@page
@model CStat.EditModel

@{
    ViewData["Title"] = "Edit";
}

<head>

    <style>
        [id^='BtnId'] {
            margin: 2px 1px 2px 1px;
            padding-left: 3px;
            padding-right: 3px;
            min-width: 90px;
        }

        .BtnOff {
            background-color: lightgray;
            color: darkslategray;
            font-weight: normal;
        }

        .BtnOn {
            background-color: greenyellow;
            color: black;
            font-weight: bold;
        }

        .rp {
            padding-right: 6px;
        }
    </style>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>

        var CCAServer = "localhost";
//      var CCAServer = "192.168.1.126";

            $(document).ready(function () {

                $("button[id^='BtnId']").click(function () {
                    var skill = $(this).attr("value");
                    var skills = $("#zPerson_SkillSets").attr("value");
                    if ($(this).hasClass("BtnOn")) {
                        $(this).removeClass("BtnOn").addClass("BtnOff");
                        skills &= ~skill;
                    } else {
                        $(this).removeClass("BtnOff").addClass("BtnOn");
                        skills |= skill;
                    }
                    $("#zPerson_SkillSets").attr("value", skills);
                });
            });

    </script>

</head>
<body>
    <div class="row">
        <div class="col-md-12">
            <form method="post">
                <input style="display:none;" asp-for="_Person.SkillSets" class="form-control" data-val="false" />

                <div style=" display: inline-block; margin-right: 10px; margin-bottom: 10px;">
                    <label asp-for="_Person.FirstName">First:</label>
                    <input asp-for="_Person.FirstName" data-val="false" style="max-width:6em" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px">
                    <label asp-for="_Person.LastName">Last:</label>
                    <input asp-for="_Person.LastName" data-val="false" style="max-width:8em" />
                </div>
                <div style="display: inline-block; margin-right: 10px; margin-bottom: 10px;">
                    <label asp-for="_Person.Gender">Gender</label>
                    <select asp-for="_Person.Gender" asp-items="ViewBag.Gender" data-val="false"></select>
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Person.ChurchId" +":">Church:</label>
                    <select asp-for="_Person.ChurchId" asp-items="ViewBag.ChurchId" style="max-width:12em" data-val="false"></select>
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Person.Dob" +":">DOB:</label>
                    <input type="date" asp-for="_Person.Dob" style="max-width:9.7em" data-val="false" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Address.Street" +":">Street:</label>
                    <input asp-for="_Address.Street" style="max-width:10em" data-val="false" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Address.Town" +":">Town/C:</label>
                    <input asp-for="_Address.Town" style="max-width:6em" data-val="false" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Address.State" +":">State:</label>
                    <input asp-for="_Address.State" style="max-width:6em" data-val="false" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Address.ZipCode" +":">Zip:</label>
                    <input asp-for="_Address.ZipCode" style="max-width:4em" data-val="false" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Person.CellPhone" +":">Cell:</label>
                    <input asp-for="_Person.CellPhone" style="max-width:7em" data-val="false" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Address.Phone" +":">Home Phone:</label>
                    <input asp-for="_Address.Phone" style="max-width:7em" data-val="false" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Person.Email" +":">EMail:</label>
                    <input asp-for="_Person.Email" style="max-width:9em" data-val="false" />
                </div>
                <div style="display:inline-block; margin-right:10px; margin-bottom:10px;">
                    <label asp-for="_Person.Notes" +":">Comments:</label>
                    <input asp-for="_Person.Notes" style="min-width:26em" data-val="false" />
                </div>
                <div style="display:inline-block; border:3px solid blue; margin-bottom:6px">
                    @Html.Raw(Model.GenSkillButtons((int)Model._Person.SkillSets))
                </div>
                <div class="form-group">
                    <input type="hidden" asp-for="_Person.Id" />
                    <div class="form-group">
                        <input type="submit" value="Save" class="btn btn-primary" />
                    </div>
                </div>

                @Html.HiddenFor(model => model._Person.Alias)
                @Html.HiddenFor(model => model._Person.Status)
                @Html.HiddenFor(model => model._Person.Ssnum)
                @Html.HiddenFor(model => model._Person.AddressId)
                @Html.HiddenFor(model => model._Person.Pg1PersonId)
                @Html.HiddenFor(model => model._Person.Pg2PersonId)
                @Html.HiddenFor(model => model._Person.ContactPref)
                @Html.HiddenFor(model => model._Person.Roles)

                @Html.HiddenFor(model => model._Address.Id)
                @Html.HiddenFor(model => model._Address.Country)
                @Html.HiddenFor(model => model._Address.WebSite)
                @Html.HiddenFor(model => model._Address.Fax)

            </form>
        </div>
        <div id="ResultsDiv"></div>
    </div>
</body>

<div>
    <a href="javascript:history.back()">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
